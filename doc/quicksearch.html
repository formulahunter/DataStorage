<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"DataStorage.js.html":{"id":"DataStorage.js.html","title":"Source: DataStorage.js","body":" DocStrap Classes DataStorageDSErrorSerializeJSONDSErrorParseJSONDSErrorCompileDataString Global DataActivityRank Externals ModelClass Source: DataStorage.js /** @file `DataStorage` class and types * @author Hunter Gayden * @since 3/3/2019 */ /** The `DataStorage` class provides an abstract interface to an advanced data storage pattern designed to be both fast and robust * * @since 11/25/2018 */ class DataStorage { /** @constructor * * @param {string} key - The key to be used for storing data in localStorage * @param {function[]} types - The class objects (constructor functions) of each data type to be managed by this `DataStorage` instance */ constructor(key, types) { this.key = key; /** **JavaScript** `Map` storing containers for all data types * * @property {Map} _created * * @private */ this._types = new Map(); /** **JavaScript** `Map` storing containers for all data types * * @property {Map} _deleted * * @private */ this._deleted = new Map(); for(let cls in types) { this._types.set(cls, []); this._deleted.set(cls, []); } /** The greatest ID assigned to any data instance, for ensuring all data instances are assigned unique ID's during batch save processes * * @property {number} _maxID * * @private */ this._maxID = 0; } /** #PUBLIC API * init() * * save() * edit() * delete() */ /** ##SECTION - Data initialization * * init() */ /** Sync data automatically and return parsed JSON data objects * * @returns {object} */ init() {} /** ##SECTION - Incremental data manipulation * */ /** Save new data instance * @param {ModelClass} inst - The data instance to be saved * * @returns {Promise&lt;SyncResult&gt;} */ save(inst) {} /** Edit existing data instance * @param {ModelClass} inst * * @returns {Promise&lt;SyncResult&gt;} */ edit(inst) {} /** Delete data instance * @param {ModelClass} inst * * @returns {Promise&lt;SyncResult&gt;} */ delete(inst) {} /** #PRIVATE API * Local storage * _read() * _write() * * _sync() * _compareHash() * _reconcile() * _resolve() * * _hash() * _buffString() * * _xhrGet() * _xhrPost() * * _encrypt() * _decrypt() * * _parse() * _serialize * get _dataString() * * get _lastSync() * set _lastSync() * * get _dataString() * * get _newID() */ /** ##SECTION - Local storage interface * _read() * _write() */ /** Read items from local storage * Returns `null` if data in local storage is not truthy * Otherwise returns result of decrypt() * @param {string} key * * @returns {(string|null)} * * @private */ _read(key) {} /** Write items to local storage * * @param {string} key * @param {object} data * * @private */ _write(key, data) {} /** ##SECTION - Sync local storage with remote data file * * _sync() * _compareHash() * _reconcile() * _resolve() */ /** Initialize sync-reconcile procedure * Compare hash digests from both sources * Initiate reconciliation if digests don't match * * On success, return a Promise resolving to an object summarizing the sync * On failure throws an exception * * @param {string} local * @param {string} remote * * @returns {Promise&lt;SyncResult&gt;} * * @private */ _sync(local, remote) {} /** Compare two hash values for equality * * @param {string[]} hashes - Remote and local hash digests to compare * * @returns {Promise&lt;SyncResult&gt;} - An object summarizing the result of the sync operation * * @private */ _compareHash([remote, local]) {} /** Reconcile discrepancies * Aggregate all data activity since last sync * Send to server's reconciliation script * Process result by updating local data file * Pass any conflicts along to `_reconcile()` * * @param {object} result * * @returns {Promise&lt;SyncResult&gt;} * * @private */ _reconcile(result) { /** Example of documenting return object properties * @param {object} response - An object containing data returned by the server's reconciliation script * @param {string} response.hash - Hash digest of the server's data file computed after running its reconciliation algorithm * @param {string} [response.&lt;type&gt;] - A container object with data instances of the given type, organized by rank * @param {string} [response.&lt;type&gt;.&lt;new|modified|deleted|conflicts&gt;] - Containers for each individual data rank * @param {string} [response.&lt;type&gt;.&lt;new|modified|deleted|conflicts&gt;.&lt;id&gt;] - A data instance of the given type &amp; rank, stored using its ID as a key */ } /** Resolve server's reconciliation response * * @param {object} response * * @returns {Promise&lt;SyncResult&gt;} * * @private */ _resolve(response) {} /** ##SECTION - Compute cryptographic hash digests * * _hash() * _getString() */ /** Initiate hash digest of string values * String to be hashed may be provided * If not, data in memory * Hash algorithm may be specified; defaults to SHA-256 * * Adopted from MDN SubtleCrypto.digest() reference: * https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/digest#Example * * @param {string} [data=`get _dataString()`] - The string to be hashed * @param {string} [algo=SHA-256] - The hash algorithm to be used (see https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/digest) * * @returns {Promise&lt;string&gt;} Resolves to the string hash digest * * @private */ _hash(data, algo = 'SHA-256') {} /** Compile a string from values in the `ArrayBuffer` returned by `crypto.subtle.digest()` * * @param {ArrayBuffer} buff - The `ArrayBuffer` returned by `crypto.subtle.digest()` * * @returns {Promise&lt;string&gt;} Resolves to the string hash digest * * @private */ _buffString(buff) { let view = new Uint8Array(buff); return view.reduce((prev, curr) =&gt; {return prev.concat(curr.toString(16).padStart(2, '0'))}, ''); } /** ##SECTION - Dispatch XHR GET and POST requests * * _xhrGet() * _xhrPost() */ /** Dispatch XMLHttpRequests with the GET method * * @param {string} url - The URL of the request target file * @param {string[]} [headers=[]] - An array of request headers to be set on the XHR object before it is sent * * @returns {Promise&lt;object&gt;} Resolves to the value of the server response * * @private */ _xhrGet(url, headers = []) {} /** Dispatch XMLHttpRequests with the POST method * * @param {string} data - The body of the request to be sent * @param {string} url - The URL of the request target file * @param {string[]} [headers=[]] - An array of key-value string pairs as request headers to be set on the XHR object before it is sent * * @returns {Promise&lt;object&gt;} Resolves to the value of the server response * * @private */ _xhrPost(data, url, headers = []) {} /** ##SECTION - Encryption * * _encrypt() * _decrypt() */ /** Encrypt a string with a given password * Presently just an alias for `sjcl.encrypt()` * * @param {string} data - Data string to be encrypted * @param {string} [password='password'] - The password to be used as the cryptographic key * * @returns {string} The encrypted text * * @private */ _encrypt(data, password = 'password') {} /** Decrypt a cipher with a given password * Presently just an alias for `sjcl.decrypt()` * * @param {string} cipher - Encrypted cipher to be decrypted * @param {string} [password='password'] - The password to be used as the cryptographic key * * @returns {string} The decrypted text * * @private */ _decrypt(cipher, password = 'password') {} /** ##SECTION - JSON conversions * * _parse() * _serialize * get _dataString() */ /** Parse a JSON string into an Javascript Object * Presently just an alias for `JSON.parse()` * * @param {string} jstr - The string to be parsed * @param {function} [reviver] - A function that parses given JSON text in a specific way * * @returns {*} * * @throws DSErrorParseJSON * * @static */ static parse(jstr, reviver) { try { return JSON.parse(jstr); } catch(er) { throw new Error(`JSON parse() error:\\n${er}`); } } /** Serialize a JavaScrip Object into a string * Presently just an alias for `JSON.parse()` * * @param {string} val - The string to be parsed * @param {function} [replacer] - A function that replaces property values with alternate data for parsing * * @returns {string} * * @throws DSErrorSerializeJSON * * @static */ static serialize(val, replacer) { try { return JSON.stringify(val); } catch(er) { throw new Error(`JSON stringify() error:\\n${er}`); } } /** Serializing all data instances in a consistent format * * @returns {string} JSON string of all data instances stored in `.types` object * * @throws DSErrorCompileDataString * * @private * @readonly */ get _dataString() { // Define a container object to be serialized let jobj = {}; // Define each type container on `jobj` with its class name as a key try { for(let [type, container] of this._types.entries()) { jobj[type.name] = container; } } catch(er) { throw new DSErrorCompileDataString(`Error compiling data string:\\n${er}`); } // Return the serialized container object return DataStorage.serialize(jobj); } /** ##SECTION - Maintain last-sync parameter * * get _lastSync() * set _lastSync() */ /** Get timestamp of the most recent successful sync * * @returns {number} The timestamp of the most recent successful sync * * @private */ get _lastSync() {} /** Set timestamp of the most recent successful sync * * @param {number} sync * * @returns {undefined} * * @private */ set _lastSync(sync) {} /** ##SECTION - ID assignment * * get _newID() */ /** Ensure that no two data instances are assigned the same id during batch saves * * @returns {number} The smallest integer greater than or equal to the current timestamp which has not already been assigned as an ID to another data instance * * @private * @readonly */ get _newID() {} } /** Error thrown when `JSON` fails to serialize an object * @extends Error */ class DSErrorSerializeJSON extends Error { constructor(...args) { super(...args); } } /** Error thrown when `JSON` fails to parse a string * @extends Error */ class DSErrorParseJSON extends Error { constructor(...args) { super(...args); } } /** Error thrown when `DataStorage` fails to compile a data string * @extends Error */ class DSErrorCompileDataString extends Error { constructor(...args) { super(...args); } } /** Sync result summary object * * @typedef {object} SyncResult * @property {(string|undefined)} [hash] - If sync is successful, the hash of the synchronized data files * @property {(number|undefined)} [sync] - If sync is successful, the timestamp at which the sync is recorded * @property {(object|undefined)} [resolve] - If a discrepancy was resolved, the resolved data instances */ /** Data class * * @external ModelClass * * @property {number|undefined} _created - The timestamp at which the data instance was saved * @private * * @property {number|undefined} _modified - The timestamp at which the data instance was most recently modified * @private */ /** Return a new ModelClass instance from a JSON string/raw JSON object * @method external:ModelClass.fromJSON * @returns {ModelClass} */ /** Public getter method of _created property * @method external:ModelClass#id * @returns {(number|undefined)} */ /** Return the JSON text representation of the data instance * @method external:ModelClass#toJSON * @returns {string} */ /** Return a readable string representation of the data instance, e.g. for console output * @method external:ModelClass#toString *@returns {string} */ /** Deleted data instance * * @typedef DeletedDataInstance * * @property {number} _created - The timestamp at which the data instance was saved * @private * * @property {number} _deleted - The timestamp at which the data instance was deleted * @private */ /** Data activity rank * 'new', 'modified', 'deleted', or 'conflict' * * @typedef {string} DataActivityRank * * @enum {string} */ /** Data instance container indexed by type-rank-id * * @typedef {object} IndexObjectTypeRankId * * @property {object} [type] - A container object with data instances of the given type, organized by rank * @property {object} [type.rank] - Containers for each individual data rank * @property {ModelClass} [rank.id] - A data instance of the given type &amp; rank, stored using its ID as a key */ /** Data instance container &amp; constructor reference * * @typedef {Map} TypeContainer * * @property {function} constructor - Constructor function/class object for the given type * @property {object[]} instances - Array of all instances of a given type */ /** Record of a deleted data instance * * @typedef {object} DeletedRecord * * @property {number} _created - ID/_created values of the deleted instance * @property {number} _deleted - Timestamp at which the instance was deleted */ /** Deleted instance record container * * @typedef {object} DeletedContainer * * @property {DeletedRecord[]} DeletedContainer.records - Array of object containing records of each deleted instance */ × Search results Close "},"global.html":{"id":"global.html","title":"Global","body":" DocStrap Classes DataStorageDSErrorSerializeJSONDSErrorParseJSONDSErrorCompileDataString Global DataActivityRank Externals ModelClass Global Members DataActivityRank :string Data activity rank'new', 'modified', 'deleted', or 'conflict' Type: string Source: DataStorage.js, line 505 Type Definitions SyncResult Sync result summary object Type: object Properties: Name Type Argument Description hash string | undefined &lt;optional&gt; If sync is successful, the hash of the synchronized data files sync number | undefined &lt;optional&gt; If sync is successful, the timestamp at which the sync is recorded resolve object | undefined &lt;optional&gt; If a discrepancy was resolved, the resolved data instances Source: DataStorage.js, line 459 DeletedDataInstance Deleted data instance Properties: Name Type Description _created number The timestamp at which the data instance was saved _deleted number The timestamp at which the data instance was deleted Source: DataStorage.js, line 493 IndexObjectTypeRankId Data instance container indexed by type-rank-id Type: object Properties: Name Type Argument Description type object &lt;optional&gt; A container object with data instances of the given type, organized by rank Properties Name Type Argument Description rank object &lt;optional&gt; Containers for each individual data rank rank.id ModelClass &lt;optional&gt; A data instance of the given type &amp; rank, stored using its ID as a key Source: DataStorage.js, line 513 TypeContainer Data instance container &amp; constructor reference Type: Map Properties: Name Type Description constructor function Constructor function/class object for the given type instances Array.&lt;object&gt; Array of all instances of a given type Source: DataStorage.js, line 522 DeletedRecord Record of a deleted data instance Type: object Properties: Name Type Description _created number ID/_created values of the deleted instance _deleted number Timestamp at which the instance was deleted Source: DataStorage.js, line 529 DeletedContainer Deleted instance record container Type: object Properties: Name Type Description DeletedContainer.records Array.&lt;DeletedRecord&gt; Array of object containing records of each deleted instance Source: DataStorage.js, line 536 × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" DocStrap Classes DataStorageDSErrorSerializeJSONDSErrorParseJSONDSErrorCompileDataString Global DataActivityRank Externals ModelClass Classes Classes DataStorage DSErrorSerializeJSON DSErrorParseJSON DSErrorCompileDataString × Search results Close "},"externals.list.html":{"id":"externals.list.html","title":"Externals","body":" DocStrap Classes DataStorageDSErrorSerializeJSONDSErrorParseJSONDSErrorCompileDataString Global DataActivityRank Externals ModelClass Externals Classes DataStorage DSErrorSerializeJSON DSErrorParseJSON DSErrorCompileDataString × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" DocStrap Classes DataStorageDSErrorSerializeJSONDSErrorParseJSONDSErrorCompileDataString Global DataActivityRank Externals ModelClass DataStorage This class is intended to provide an abstract interface for an advanced datastorage pattern in which data is stored locally on one or more clients as wellas remotely in a single server data file. Clients regularly synchronize theirdata files with the one on the server, and thereby indirectly with oneanother. Note: This class was initially developed as part of the MealPlanproject, starting on November 25th, 2018. On March 3rd, 2019, it was extractedinto its own PhpStorm project. A Git repository was initialized and adocumentation set was configured using JSDoc. Index DataStorage.js DataStorage class and types Since: 3/3/2019 Author: Hunter Gayden Source: DataStorage.js, line 1 × Search results Close "},"external-ModelClass.html":{"id":"external-ModelClass.html","title":"External: ModelClass","body":" DocStrap Classes DataStorageDSErrorSerializeJSONDSErrorParseJSONDSErrorCompileDataString Global DataActivityRank Externals ModelClass External: ModelClass ModelClass Data class Properties: Name Type Description _created number | undefined The timestamp at which the data instance was saved _modified number | undefined The timestamp at which the data instance was most recently modified Source: DataStorage.js, line 467 Methods &lt;static&gt; fromJSON() Return a new ModelClass instance from a JSON string/raw JSON object Source: DataStorage.js, line 477 Returns: Type ModelClass id() Public getter method of _created property Source: DataStorage.js, line 481 Returns: Type number | undefined toJSON() Return the JSON text representation of the data instance Source: DataStorage.js, line 485 Returns: Type string toString() Return a readable string representation of the data instance, e.g. for console output Source: DataStorage.js, line 489 Returns: Type string × Search results Close "},"DataStorage.html":{"id":"DataStorage.html","title":"Class: DataStorage","body":" DocStrap Classes DataStorageDSErrorSerializeJSONDSErrorParseJSONDSErrorCompileDataString Global DataActivityRank Externals ModelClass Class: DataStorage DataStorage The DataStorage class provides an abstract interface to an advanced data storage pattern designed to be both fast and robust new DataStorage(key, types) Parameters: Name Type Description key string The key to be used for storing data in localStorage types Array.&lt;function()&gt; The class objects (constructor functions) of each data type to be managed by this DataStorage instance Since: 11/25/2018 Source: DataStorage.js, line 10 Members &lt;private&gt; _types *JavaScript** Map storing containers for all data types Properties: Name Type Description _created Map Source: DataStorage.js, line 25 &lt;private&gt; _deleted *JavaScript** Map storing containers for all data types Properties: Name Type Description _deleted Map Source: DataStorage.js, line 32 &lt;private&gt; _maxID The greatest ID assigned to any data instance, for ensuring all data instances are assigned unique ID's during batch save processes Properties: Name Type Description _maxID number Source: DataStorage.js, line 44 &lt;private, readonly&gt; _dataString Serializing all data instances in a consistent format Source: DataStorage.js, line 376 &lt;private&gt; _lastSync Get timestamp of the most recent successful sync Source: DataStorage.js, line 407 &lt;private&gt; _lastSync Set timestamp of the most recent successful sync Source: DataStorage.js, line 416 &lt;private, readonly&gt; _newID Ensure that no two data instances are assigned the same id during batch saves Source: DataStorage.js, line 431 Methods init() Sync data automatically and return parsed JSON data objects Source: DataStorage.js, line 66 Returns: Type object save(inst) Save new data instance Parameters: Name Type Description inst ModelClass The data instance to be saved Source: DataStorage.js, line 78 Returns: Type Promise.&lt;SyncResult&gt; edit(inst) Edit existing data instance Parameters: Name Type Description inst ModelClass Source: DataStorage.js, line 85 Returns: Type Promise.&lt;SyncResult&gt; delete(inst) Delete data instance Parameters: Name Type Description inst ModelClass Source: DataStorage.js, line 92 Returns: Type Promise.&lt;SyncResult&gt; &lt;private&gt; _read(key) Read items from local storage Returns null if data in local storage is not truthy Otherwise returns result of decrypt() Parameters: Name Type Description key string Source: DataStorage.js, line 141 Returns: Type string | null &lt;private&gt; _write(key, data) Write items to local storage Parameters: Name Type Description key string data object Source: DataStorage.js, line 150 &lt;private&gt; _sync(local, remote) Initialize sync-reconcile procedure Compare hash digests from both sources Initiate reconciliation if digests don't match On success, return a Promise resolving to an object summarizing the sync On failure throws an exception Parameters: Name Type Description local string remote string Source: DataStorage.js, line 175 Returns: Type Promise.&lt;SyncResult&gt; &lt;private&gt; _compareHash(hashes) Compare two hash values for equality Parameters: Name Type Description hashes Array.&lt;string&gt; Remote and local hash digests to compare Source: DataStorage.js, line 185 Returns: An object summarizing the result of the sync operation Type Promise.&lt;SyncResult&gt; &lt;private&gt; _reconcile(result) Reconcile discrepancies Aggregate all data activity since last sync Send to server's reconciliation script Process result by updating local data file Pass any conflicts along to _reconcile() Parameters: Name Type Description result object Source: DataStorage.js, line 199 Returns: Type Promise.&lt;SyncResult&gt; &lt;private&gt; _resolve(response) Resolve server's reconciliation response Parameters: Name Type Description response object Source: DataStorage.js, line 217 Returns: Type Promise.&lt;SyncResult&gt; &lt;private&gt; _hash( [data] [, algo]) Initiate hash digest of string values String to be hashed may be provided If not, data in memory Hash algorithm may be specified; defaults to SHA-256 Adopted from MDN SubtleCrypto.digest() reference: https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/digest#Example Parameters: Name Type Argument Default Description data string &lt;optional&gt; `get _dataString()` The string to be hashed algo string &lt;optional&gt; SHA-256 The hash algorithm to be used (see https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/digest) Source: DataStorage.js, line 241 Returns: Resolves to the string hash digest Type Promise.&lt;string&gt; &lt;private&gt; _buffString(buff) Compile a string from values in the ArrayBuffer returned by crypto.subtle.digest() Parameters: Name Type Description buff ArrayBuffer The ArrayBuffer returned by crypto.subtle.digest() Source: DataStorage.js, line 251 Returns: Resolves to the string hash digest Type Promise.&lt;string&gt; &lt;private&gt; _xhrGet(url [, headers]) Dispatch XMLHttpRequests with the GET method Parameters: Name Type Argument Default Description url string The URL of the request target file headers Array.&lt;string&gt; &lt;optional&gt; [] An array of request headers to be set on the XHR object before it is sent Source: DataStorage.js, line 272 Returns: Resolves to the value of the server response Type Promise.&lt;object&gt; &lt;private&gt; _xhrPost(data, url [, headers]) Dispatch XMLHttpRequests with the POST method Parameters: Name Type Argument Default Description data string The body of the request to be sent url string The URL of the request target file headers Array.&lt;string&gt; &lt;optional&gt; [] An array of key-value string pairs as request headers to be set on the XHR object before it is sent Source: DataStorage.js, line 284 Returns: Resolves to the value of the server response Type Promise.&lt;object&gt; &lt;private&gt; _encrypt(data [, password]) Encrypt a string with a given password Presently just an alias for sjcl.encrypt() Parameters: Name Type Argument Default Description data string Data string to be encrypted password string &lt;optional&gt; 'password' The password to be used as the cryptographic key Source: DataStorage.js, line 303 Returns: The encrypted text Type string &lt;private&gt; _decrypt(cipher [, password]) Decrypt a cipher with a given password Presently just an alias for sjcl.decrypt() Parameters: Name Type Argument Default Description cipher string Encrypted cipher to be decrypted password string &lt;optional&gt; 'password' The password to be used as the cryptographic key Source: DataStorage.js, line 315 Returns: The decrypted text Type string &lt;static&gt; parse(jstr [, reviver]) Parse a JSON string into an Javascript Object Presently just an alias for JSON.parse() Parameters: Name Type Argument Description jstr string The string to be parsed reviver function &lt;optional&gt; A function that parses given JSON text in a specific way Source: DataStorage.js, line 337 Throws: DSErrorParseJSON Returns: Type * &lt;static&gt; serialize(val [, replacer]) Serialize a JavaScrip Object into a string Presently just an alias for JSON.parse() Parameters: Name Type Argument Description val string The string to be parsed replacer function &lt;optional&gt; A function that replaces property values with alternate data for parsing Source: DataStorage.js, line 358 Throws: DSErrorSerializeJSON Returns: Type string × Search results Close "},"DSErrorSerializeJSON.html":{"id":"DSErrorSerializeJSON.html","title":"Class: DSErrorSerializeJSON","body":" DocStrap Classes DataStorageDSErrorSerializeJSONDSErrorParseJSONDSErrorCompileDataString Global DataActivityRank Externals ModelClass Class: DSErrorSerializeJSON DSErrorSerializeJSON Error thrown when JSON fails to serialize an object new DSErrorSerializeJSON() Source: DataStorage.js, line 437 Extends Error × Search results Close "},"DSErrorParseJSON.html":{"id":"DSErrorParseJSON.html","title":"Class: DSErrorParseJSON","body":" DocStrap Classes DataStorageDSErrorSerializeJSONDSErrorParseJSONDSErrorCompileDataString Global DataActivityRank Externals ModelClass Class: DSErrorParseJSON DSErrorParseJSON Error thrown when JSON fails to parse a string new DSErrorParseJSON() Source: DataStorage.js, line 445 Extends Error × Search results Close "},"DSErrorCompileDataString.html":{"id":"DSErrorCompileDataString.html","title":"Class: DSErrorCompileDataString","body":" DocStrap Classes DataStorageDSErrorSerializeJSONDSErrorParseJSONDSErrorCompileDataString Global DataActivityRank Externals ModelClass Class: DSErrorCompileDataString DSErrorCompileDataString Error thrown when DataStorage fails to compile a data string new DSErrorCompileDataString() Source: DataStorage.js, line 453 Extends Error × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
