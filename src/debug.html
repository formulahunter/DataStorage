<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>debug</title>

    <script type="text/javascript" src="DataStorage.js"></script>

    <script type="text/javascript">
        window.addEventListener('load', main, false);

        class Ingredient {
            constructor() {

            }
        }
        class Recipe {
            constructor() {

            }
        }
        class Meal {
            constructor() {

            }
        }

        function main() {
            //  Define an instance of `DataStorage`
            window.data = new DataStorage('mealplan', [Ingredient, Recipe, Meal]);

            //  Encrypt a data string with a given password
            console.log('encrypting \'some data\' with password \'password\'');
            let enc = data._encrypt('some data', 'password');

            enc.then(function(cipher) {
                //  Output the result of the encryption
                console.log('encrypted cipher:\n%o', cipher);
                return cipher;
            })
            .then(function(cipher) {
                //  Decrypt the result back to the original string
                console.log('decrypting cipher');
                return data._decrypt(cipher, 'password');
            })
            .then(function(plaintext) {
                //  Output the result of the decryption
                console.log('decrypted plaintext:', plaintext);
            });
        }
    </script>
</head>
<body>

</body>
</html>